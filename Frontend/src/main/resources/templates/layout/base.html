<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title th:text="${titulo} + ' - MetaMapa'"></title>
    <link rel="stylesheet" th:href="@{/css/layout/base.css}">
    <th:block th:replace="~{::styles}"></th:block>

</head>
<body>
<header class="main-header">
    <a class="logo" th:href="@{/}">MetaMapa</a>
    <button class="menu-toggle" id="menu-toggle">☰</button>
    <nav class="main-nav" id="main-nav">
        <ul>
            <li><a class="btn btn-secondary" th:href="@{/estadisticas}">Estadisticas</a></li>
            <li><a class="btn btn-secondary" th:href="@{/hechos/explorador}">Explorar</a></li>
            <li><a class="btn btn-secondary" th:href="@{/colecciones}">Colecciones</a></li>
            <li sec:authorize="isAuthenticated()"><a class="btn btn-secondary" th:href="@{/hechos/nuevo}">Crear hecho</a></li>
            <li sec:authorize="isAuthenticated()"><a class="btn btn-secondary" th:href="@{/hechos/misHechos}">Mis hechos</a></li>
            <li sec:authorize="hasRole('ADMINISTRADOR')"><a class="btn btn-secondary" th:href="@{/panel_gestion}">Gestionar</a></li>

            <li sec:authorize="!isAuthenticated()">
                <a class="btn btn-primary" th:href="@{/login}">Iniciar Sesión</a>
            </li>

            <li sec:authorize="isAuthenticated()">
                <form th:action="@{/logout}" method="post" style="display: inline;">
                    <button class="btn btn-danger" type="submit">Cerrar Sesión</button>
                </form>
            </li>

        </ul>
    </nav>
</header>
<main>
    <div th:replace="~{::contenido}"></div>
</main>




<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script th:src="@{/js/layout/base.js}"></script>

<th:block th:replace="~{::scripts}"></th:block>

</body>

<footer class="main-footer">
    <p>&copy; 2025 MetaMapa. Todos los derechos reservados.</p>
    <div>
        <a th:href="@{/privacidad}">Política de Privacidad</a>
    </div>
</footer>

</html>